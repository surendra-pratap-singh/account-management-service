DROP TABLE IF EXISTS ACCOUNT_TBL;
CREATE TABLE ACCOUNT_TBL (ID BIGINT GENERATED BY DEFAULT AS IDENTITY, ACCOUNT_ID BIGINT NOT NULL, ACCOUNT_BALANCE FLOAT(53) NOT NULL, ACCOUNT_CURRENCY VARCHAR(255) NOT NULL, CLIENT_ID BIGINT, PRIMARY KEY (ID));

DROP TABLE IF EXISTS CLIENT_TBL;
CREATE TABLE CLIENT_TBL (ID BIGINT GENERATED BY DEFAULT AS IDENTITY, CLIENT_ID BIGINT NOT NULL, EMAIL VARCHAR(255) NOT NULL, FIRST_NAME VARCHAR(255) NOT NULL, LAST_NAME VARCHAR(255) NOT NULL, PRIMARY KEY (ID));

DROP TABLE IF EXISTS TRANSACTION_TBL;
CREATE TABLE TRANSACTION_TBL (ID BIGINT GENERATED BY DEFAULT AS IDENTITY, TXN_ACCOUNT FLOAT(53) NOT NULL, TXN_CURRENCY VARCHAR(255) NOT NULL, TXN_DATE TIMESTAMP(6), TRANSACTION_ID BIGINT NOT NULL, TXN_TYPE VARCHAR(255) NOT NULL, ACCOUNT_ID BIGINT, PRIMARY KEY (ID));

ALTER TABLE CLIENT_TBL ADD CONSTRAINT UK_CLIENT_ID UNIQUE (CLIENT_ID);

ALTER TABLE ACCOUNT_TBL ADD CONSTRAINT UK_ACCOUNT_ID UNIQUE (ACCOUNT_ID);

ALTER TABLE IF EXISTS ACCOUNT_TBL ADD CONSTRAINT FK_CLIENT_ID FOREIGN KEY (CLIENT_ID) REFERENCES CLIENT_TBL(CLIENT_ID);

ALTER TABLE IF EXISTS TRANSACTION_TBL ADD CONSTRAINT FK_ACCOUNT_ID FOREIGN KEY (ACCOUNT_ID) REFERENCES ACCOUNT_TBL(ACCOUNT_ID);
